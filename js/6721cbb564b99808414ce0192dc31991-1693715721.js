!function(i){"use strict";if(window.WEDEW_BACKGROUND_MUSIC){var n,u=window.WEDEW_BACKGROUND_MUSIC.source;if("soundcloud"==u){var e=i("#sc-wrapper iframe")[0];(n=SC.Widget(e)).bind(SC.Widget.Events.PLAY,(function(i){o()})),n.bind(SC.Widget.Events.PAUSE,(function(i){d()}))}if("file"==u){(n=document.createElement("audio")).autoplay=!0,n.loop=!0,n.load(),n.src=window.WEDEW_BACKGROUND_MUSIC.url;var s=!1}window.pauseMusic=function(){n.pause(),d()},window.playMusic=function(){var i=n.play();i instanceof Promise&&i.then((i=>{o()})).catch((i=>{d()}))},i(".background-music .btn").click((function(){s?pauseMusic():playMusic()})),setTimeout(playMusic,500),i(document).on("music:mute",(function(){"soundcloud"==u&&(n.setVolume(0),n.bind(SC.Widget.Events.READY,(function(i){n.setVolume(0)}))),"file"==u&&(n.muted=!0)})),i(document).on("music:unmute",(function(){"soundcloud"==u&&n.setVolume(100),"file"==u&&(n.muted=!1)}))}function o(){s=!0,i(".background-music").removeClass("is-loading is-paused").addClass("is-played"),setTimeout((function(){i(".background-music").addClass("is-expanded"),setTimeout((function(){i(".background-music").removeClass("is-expanded")}),5e3)}),500)}function d(){s=!1,i(".background-music").removeClass("is-loading is-played").addClass("is-paused")}}(window.jQuery);